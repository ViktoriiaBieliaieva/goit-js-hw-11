{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport default function getImagesByQuery(query) {\n    return axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: \"53349109-bd5e9ac2d632572f7cfde5587\",\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n        }\n    })\n        .then(response => response.data);\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst ulEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nlet gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const markup = cardsTemplate(images);\n  ulEl.insertAdjacentHTML('beforeend', markup);\n  gallery.refresh();\n}\n\nexport function clearGallery() {\n  ulEl.innerHTML = '';\n}\n\nexport function showLoader() {\n  loaderEl.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loaderEl.classList.add('hidden');\n}\n\nfunction cardTemplate({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n  return `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img \n          class=\"gallery-image\" \n          src=\"${webformatURL}\" \n          alt=\"${tags}\"\n        />\n      </a>\n\n      <div class=\"card-container\">\n        <p class=\"card-item\"><b>Likes</b> ${likes}</p>\n        <p class=\"card-item\"><b>Views</b> ${views}</p>\n        <p class=\"card-item\"><b>Comments</b> ${comments}</p>\n        <p class=\"card-item\"><b>Downloads</b> ${downloads}</p>\n      </div>\n    </li>\n  `;\n}\n\nfunction cardsTemplate(images) {\n    return images.map(cardTemplate).join('');\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport getImagesByQuery from \"./js/pixabay-api\";\nimport { clearGallery, createGallery, showLoader, hideLoader } from \"./js/render-functions\"\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', (e) => {\n    e.preventDefault();\n    clearGallery();\n    const input = e.target.elements['search-text'];\n    const query = input.value;  \n    if (query.trim() === \"\") {\n        iziToast.error({\n            message: \"The search field cannot be empty!\",\n            position: 'topRight',\n            maxWidth: '432px',\n            color: '#ef4040',\n            close: false,\n            animateInside: false,\n            transitionIn: 'fadeIn',\n            transitionOut: 'fadeOut',\n        });\n        input.value = \"\";\n        return;\n    }\n    showLoader();\n    getImagesByQuery(query)\n        .then(data => {\n            const hitsArray = data.hits;\n            if (hitsArray.length === 0) {\n                iziToast.error({\n                    message: `Sorry, there are no images matching your search query. Please try again!`,\n                    position: 'topRight',\n                    maxWidth: '432px',\n                    color: '#ef4040',\n                    close: false,\n                    animateInside: false,\n                    transitionIn: 'fadeIn',\n                    transitionOut: 'fadeOut',\n                });\n                return;\n            }\n            else { createGallery(hitsArray) }\n        })\n        .catch(error => {\n            iziToast.error({\n                message: \"Something went wrong. Please try again later.\",\n                position: 'topRight',\n                maxWidth: '432px',\n                color: '#ef4040',\n                close: false,\n                animateInside: false,\n                transitionIn: 'fadeIn',\n                transitionOut: 'fadeOut',\n            });\n        })\n        .finally(() => {\n            hideLoader();\n            e.target.reset();\n        });\n})"],"names":["getImagesByQuery","query","axios","response","ulEl","loaderEl","gallery","SimpleLightbox","createGallery","images","markup","cardsTemplate","clearGallery","showLoader","hideLoader","cardTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formEl","e","input","iziToast","data","hitsArray","error"],"mappings":"owBAEe,SAASA,EAAiBC,EAAO,CAC5C,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,EACI,KAAKE,GAAYA,EAAS,IAAI,CACvC,CCVA,MAAMC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAW,SAAS,cAAc,SAAS,EAEjD,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASC,EAAcF,CAAM,EACnCL,EAAK,mBAAmB,YAAaM,CAAM,EAC3CJ,EAAQ,QAAO,CACjB,CAEO,SAASM,GAAe,CAC7BR,EAAK,UAAY,EACnB,CAEO,SAASS,GAAa,CAC3BR,EAAS,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASS,GAAa,CAC3BT,EAAS,UAAU,IAAI,QAAQ,CACjC,CAEA,SAASU,EAAa,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC5F,MAAO;AAAA;AAAA,sCAE6BL,CAAa;AAAA;AAAA;AAAA,iBAGlCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4CAKuBC,CAAK;AAAA,4CACLC,CAAK;AAAA,+CACFC,CAAQ;AAAA,gDACPC,CAAS;AAAA;AAAA;AAAA,GAIzD,CAEA,SAASX,EAAcF,EAAQ,CAC3B,OAAOA,EAAO,IAAIM,CAAY,EAAE,KAAK,EAAE,CAC3C,CC/CA,MAAMQ,EAAS,SAAS,cAAc,OAAO,EAE7CA,EAAO,iBAAiB,SAAWC,GAAM,CACrCA,EAAE,eAAc,EAChBZ,IACA,MAAMa,EAAQD,EAAE,OAAO,SAAS,aAAa,EACvCvB,EAAQwB,EAAM,MACpB,GAAIxB,EAAM,KAAM,IAAK,GAAI,CACrByB,EAAS,MAAM,CACX,QAAS,oCACT,SAAU,WACV,SAAU,QACV,MAAO,UACP,MAAO,GACP,cAAe,GACf,aAAc,SACd,cAAe,SAC3B,CAAS,EACDD,EAAM,MAAQ,GACd,MACH,CACDZ,IACAb,EAAiBC,CAAK,EACjB,KAAK0B,GAAQ,CACV,MAAMC,EAAYD,EAAK,KACvB,GAAIC,EAAU,SAAW,EAAG,CACxBF,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,SAAU,QACV,MAAO,UACP,MAAO,GACP,cAAe,GACf,aAAc,SACd,cAAe,SACnC,CAAiB,EACD,MACH,MACMlB,EAAcoB,CAAS,CAC1C,CAAS,EACA,MAAMC,GAAS,CACZH,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,WACV,SAAU,QACV,MAAO,UACP,MAAO,GACP,cAAe,GACf,aAAc,SACd,cAAe,SAC/B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXZ,IACAU,EAAE,OAAO,OACrB,CAAS,CACT,CAAC"}